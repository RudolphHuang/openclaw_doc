# API æ–‡æ¡£æ€»ç»“

æœ¬æ–‡æ¡£æ€»ç»“äº†å·²åˆ›å»ºçš„ API æ¥å£æ–‡æ¡£ã€‚

## æ–‡æ¡£å®ŒæˆçŠ¶æ€

### âœ… å·²å®Œæˆçš„è¯¦ç»†æ–‡æ¡£

ä»¥ä¸‹æ¥å£æ–‡æ¡£åŒ…å«å®Œæ•´çš„æ¥å£è¯´æ˜ã€å‚æ•°ã€ç¤ºä¾‹å’Œæœ€ä½³å®è·µï¼š

#### tRPC Lambda æ¥å£ï¼ˆä¸»ä¸šåŠ¡ï¼‰

- âœ… [user.md](tRPC/lambda/user.md) - ç”¨æˆ·ç®¡ç†ï¼ˆåŒ…å«ç§¯åˆ†å¥–åŠ±ï¼‰
- âœ… [session.md](tRPC/lambda/session.md) - ä¼šè¯ç®¡ç†
- âœ… [message.md](tRPC/lambda/message.md) - æ¶ˆæ¯ç®¡ç†ï¼ˆåŒ…å«ç¿»è¯‘ã€TTSã€æ’ä»¶ç­‰ï¼‰
- âœ… [topic.md](tRPC/lambda/topic.md) - ä¸»é¢˜ç®¡ç†
- âœ… [agent.md](tRPC/lambda/agent.md) - Agent é…ç½®ç®¡ç†
- âœ… [knowledgeBase.md](tRPC/lambda/knowledgeBase.md) - çŸ¥è¯†åº“ç®¡ç†
- âœ… [file.md](tRPC/lambda/file.md) - æ–‡ä»¶ç®¡ç†

#### tRPC Async æ¥å£ï¼ˆå¼‚æ­¥ä»»åŠ¡ï¼‰

- âœ… [async/file.md](tRPC/async/file.md) - æ–‡ä»¶å¼‚æ­¥å¤„ç†ï¼ˆåˆ†å—ã€åµŒå…¥ï¼‰

#### tRPC Tools æ¥å£ï¼ˆå·¥å…·ï¼‰

- âœ… [tools/search.md](tRPC/tools/search.md) - æœç´¢å·¥å…·

#### RESTful WebAPI æ¥å£

- âœ… [RESTful/chat.md](RESTful/chat.md) - AI èŠå¤©æµå¼å“åº”

### ğŸ“ å·²åˆ›å»ºçš„ç®€è¦æ–‡æ¡£

ä»¥ä¸‹æ¥å£æ–‡æ¡£æä¾›äº†åŸºæœ¬è¯´æ˜å’Œä½¿ç”¨ç¤ºä¾‹ï¼š

#### tRPC Lambda æ¥å£

- ğŸ“ [chunk.md](tRPC/lambda/chunk.md) - æ–‡æœ¬å—ç®¡ç†
- ğŸ“ [group.md](tRPC/lambda/group.md) - ç¾¤ç»„èŠå¤©
- ğŸ“ [sessionGroup.md](tRPC/lambda/sessionGroup.md) - ä¼šè¯åˆ†ç»„
- ğŸ“ [thread.md](tRPC/lambda/thread.md) - çº¿ç¨‹ç®¡ç†
- ğŸ“ [aiModel.md](tRPC/lambda/aiModel.md) - AI æ¨¡å‹ç®¡ç†
- ğŸ“ [aiProvider.md](tRPC/lambda/aiProvider.md) - AI æä¾›å•†ç®¡ç†
- ğŸ“ [market.md](tRPC/lambda/market.md) - å¸‚åœºï¼ˆAgentã€æ’ä»¶ï¼‰
- ğŸ“ [plugin.md](tRPC/lambda/plugin.md) - æ’ä»¶ç®¡ç†
- ğŸ“ [importer.md](tRPC/lambda/importer.md) - æ•°æ®å¯¼å…¥
- ğŸ“ [exporter.md](tRPC/lambda/exporter.md) - æ•°æ®å¯¼å‡º
- ğŸ“ [usage.md](tRPC/lambda/usage.md) - ä½¿ç”¨ç»Ÿè®¡
- ğŸ“ [generation.md](tRPC/lambda/generation.md) - å›¾åƒç”Ÿæˆ
- ğŸ“ [document.md](tRPC/lambda/document.md) - æ–‡æ¡£ç®¡ç†
- ğŸ“ [upload.md](tRPC/lambda/upload.md) - ä¸Šä¼ ç®¡ç†
- ğŸ“ [config.md](tRPC/lambda/config.md) - é…ç½®ç®¡ç†
- ğŸ“ [basicConfig.md](tRPC/lambda/basicConfig.md) - åŸºç¡€é…ç½®

#### tRPC Mobile æ¥å£

- ğŸ“ [mobile/index.md](tRPC/mobile/index.md) - ç§»åŠ¨ç«¯æ¥å£è¯´æ˜

#### RESTful WebAPI æ¥å£

- âœ… [RESTful/auth-overview.md](RESTful/auth-overview.md) - è®¤è¯æ–¹å¼æ¦‚è§ˆ
- âœ… [RESTful/auth-clerk.md](RESTful/auth-clerk.md) - Clerk è®¤è¯ï¼ˆé‚®ç®±ç™»å½•ï¼‰
- âœ… [RESTful/auth-tronlink.md](RESTful/auth-tronlink.md) - TronLink ç™»å½•
- ğŸ“ [RESTful/tts-openai.md](RESTful/tts-openai.md) - OpenAI TTS
- ğŸ“ [RESTful/stt-openai.md](RESTful/stt-openai.md) - OpenAI STT
- ğŸ“ [RESTful/tokenizer.md](RESTful/tokenizer.md) - ä»¤ç‰Œè®¡æ•°
- ğŸ“ [RESTful/trace.md](RESTful/trace.md) - è¿½è¸ªä¸ŠæŠ¥

### âš ï¸ å¾…å®Œå–„çš„æ–‡æ¡£

ä»¥ä¸‹æ¥å£æ–‡æ¡£å°šæœªåˆ›å»ºï¼Œå¯å‚è€ƒæºä»£ç ï¼š

#### tRPC Lambda æ¥å£

- âš ï¸ aiChat - AI èŠå¤©é…ç½®
- âš ï¸ apiKey - API Key ç®¡ç†
- âš ï¸ comfyui - ComfyUI å·¥ä½œæµ
- âš ï¸ generationBatch - æ‰¹é‡ç”Ÿæˆ
- âš ï¸ generationTopic - ç”Ÿæˆä¸»é¢˜
- âš ï¸ image - å›¾åƒç®¡ç†
- âš ï¸ order - è®¢å•ç®¡ç†
- âš ï¸ ragEval - RAG è¯„ä¼°

#### tRPC Async æ¥å£

- âš ï¸ async/image - å›¾åƒå¼‚æ­¥ç”Ÿæˆ
- âš ï¸ async/ragEval - RAG å¼‚æ­¥è¯„ä¼°

#### tRPC Tools æ¥å£

- âš ï¸ tools/mcp - MCP å·¥å…·

#### tRPC Edge æ¥å£

- âš ï¸ edge/appStatus - åº”ç”¨çŠ¶æ€
- âš ï¸ edge/upload - Edge ä¸Šä¼ 

#### tRPC Desktop æ¥å£

- âš ï¸ desktop/pgTable - PGLite è¡¨ç®¡ç†
- âš ï¸ desktop/mcp - æ¡Œé¢ç«¯ MCP

#### RESTful WebAPI æ¥å£

- âš ï¸ tts/edge - Edge TTS
- âš ï¸ tts/microsoft - Microsoft TTS
- âš ï¸ text-to-image - æ–‡æœ¬ç”Ÿæˆå›¾åƒ
- âš ï¸ create-image/comfyui - ComfyUI å›¾åƒç”Ÿæˆ
- âš ï¸ models - æ¨¡å‹åˆ—è¡¨
- âš ï¸ models/pull - æ‹‰å–æ¨¡å‹
- âš ï¸ user/avatar - ç”¨æˆ·å¤´åƒ
- âš ï¸ plugin/gateway - æ’ä»¶ç½‘å…³
- âš ï¸ proxy - ä»£ç†è¯·æ±‚
- âš ï¸ revalidate - ç¼“å­˜é‡éªŒè¯

---

## å¦‚ä½•ä½¿ç”¨æœ¬æ–‡æ¡£

### æŸ¥æ‰¾æ¥å£

1. å‚è€ƒ [README.md](README.md) çš„ç›®å½•ç»“æ„
2. æ ¹æ®åŠŸèƒ½æ¨¡å—æ‰¾åˆ°å¯¹åº”æ–‡æ¡£
3. è¯¦ç»†æ–‡æ¡£ï¼ˆâœ…ï¼‰åŒ…å«å®Œæ•´è¯´æ˜ï¼Œç®€è¦æ–‡æ¡£ï¼ˆğŸ“ï¼‰æä¾›å¿«é€Ÿå‚è€ƒ

### è¡¥å……æ–‡æ¡£

å¾…å®Œå–„çš„æ¥å£ï¼ˆâš ï¸ï¼‰å¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼äº†è§£ï¼š

1. æŸ¥çœ‹æºä»£ç ï¼š`src/server/routers/` æˆ– `src/app/(backend)/webapi/`
2. å‚è€ƒå·²å®Œæˆçš„æ–‡æ¡£æ ¼å¼
3. æŸ¥çœ‹æµ‹è¯•æ–‡ä»¶ï¼š`**/__tests__/`

### æ–‡æ¡£æ¨¡æ¿

#### è¯¦ç»†æ–‡æ¡£æ¨¡æ¿

```markdown
# [æ¥å£åç§°]

[ç®€è¦æè¿°]

## æ¥å£åˆ—è¡¨

### [æ–¹æ³•å]

[æè¿°]

**ç±»å‹**: `query` | `mutation`

**æƒé™**: [è®¤è¯è¦æ±‚]

**è¾“å…¥å‚æ•°**:

[TypeScript ç±»å‹å®šä¹‰]

**è¿”å›æ•°æ®**:

[TypeScript ç±»å‹å®šä¹‰]

**è¯´æ˜**: [é¢å¤–è¯´æ˜]

---

## ä½¿ç”¨ç¤ºä¾‹

[ä»£ç ç¤ºä¾‹]

## æ•°æ®ç±»å‹

[ç±»å‹å®šä¹‰]

## æœ€ä½³å®è·µ

[æœ€ä½³å®è·µå»ºè®®]
```

---

## ç»Ÿè®¡ä¿¡æ¯

- **æ€»æ¥å£æ•°**: çº¦ 80+
- **å·²å®Œæˆè¯¦ç»†æ–‡æ¡£**: 12 ä¸ªï¼ˆ15%ï¼‰
- **å·²åˆ›å»ºç®€è¦æ–‡æ¡£**: 23 ä¸ªï¼ˆ29%ï¼‰
- **å¾…è¡¥å……æ–‡æ¡£**: 47 ä¸ªï¼ˆ58.5%ï¼‰

---

## ä¸‹ä¸€æ­¥å·¥ä½œ

### ä¼˜å…ˆçº§ 1ï¼ˆæ ¸å¿ƒåŠŸèƒ½ï¼‰

- [ ] aiChat - AI èŠå¤©é…ç½®
- [ ] apiKey - API Key ç®¡ç†
- [ ] ragEval - RAG è¯„ä¼°
- [ ] tools/mcp - MCP å·¥å…·

### ä¼˜å…ˆçº§ 2ï¼ˆå¸¸ç”¨åŠŸèƒ½ï¼‰

- [ ] comfyui - ComfyUI å·¥ä½œæµ
- [ ] generationBatch - æ‰¹é‡ç”Ÿæˆ
- [ ] image - å›¾åƒç®¡ç†
- [ ] order - è®¢å•ç®¡ç†

### ä¼˜å…ˆçº§ 3ï¼ˆè¾…åŠ©åŠŸèƒ½ï¼‰

- [ ] RESTful WebAPI å‰©ä½™æ¥å£
- [ ] tRPC Edge æ¥å£
- [ ] tRPC Desktop æ¥å£

---

## è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®æ–‡æ¡£ï¼è¯·éµå¾ªä»¥ä¸‹æ­¥éª¤ï¼š

1. é€‰æ‹©ä¸€ä¸ªå¾…å®Œå–„çš„æ¥å£
2. å‚è€ƒæºä»£ç å’Œå·²æœ‰æ–‡æ¡£
3. ç¼–å†™è¯¦ç»†çš„æ¥å£æ–‡æ¡£
4. æäº¤ PR

---

## ç›¸å…³èµ„æº

- [é¡¹ç›®è§„åˆ™æ–‡æ¡£](.cursor/rules/)
- [æµ‹è¯•æŒ‡å—](.cursor/rules/testing-guide/)
- [ä»£ç é£æ ¼æŒ‡å—](.cursor/rules/typescript.mdc)

---

æœ€åæ›´æ–°: 2026-02-14
